(()=>{"use strict";const a={MESSAGE:{INIT_SDK:"INIT_SDK",LOAD_END:"LOAD_END",GAME_START:"GAME_START",GAME_END:"GAME_END",SHOW_RANK:"SHOW_RANK",SHOW_HELP:"SHOW_HELP",SAVE_DATA:"SAVE_DATA",SHOW_MAIN_MENU:"SHOW_MAIN_MENU",GET_RANK:"GET_RANK",GAME_DATA:"GAME_DATA",START_GAME:"START_GAME",RESTART_GAME:"RESTART_GAME",SOUND:"SOUND",RANK_DATA:"RANK_DATA",GAME_SETTINGS:"GAME_SETTINGS"},MainMenuType:{GAME_FIRST:"GAME_FIRST",GAME_END:"GAME_END"},GameData:{high_score:0,score:0},UserData:{},Init_GameData:function(a){for(var t in window.Hi5=this,a)this.GameData[t]=a[t]},Init_OnMessage:function(a){var t=this;window.Hi5=this,window.addEventListener("message",function(s){s.data&&s.data.action&&(s.data.action==t.MESSAGE.GAME_DATA?(s.data.data.game_data&&(t.GameData=s.data.data.game_data),s.data.data.game_data&&(t.UserData=s.data.data.user_data)):s.data.action==t.MESSAGE.SOUND&&(s.data.data.sound&&(t.GameData.sound=s.data.data.sound),setTimeout(function(){t.SaveData()},100)),a(s.data))}),this.PostMessage(this.MESSAGE.INIT_SDK,this.GameData)},Init_SDK:function(a,t){var s=this;for(var e in window.Hi5=this,t)this.GameData[e]=t[e];window.addEventListener("message",function(t){t.data&&t.data.action&&(t.data.action==s.MESSAGE.GAME_DATA?(t.data.data.game_data&&(s.GameData=t.data.data.game_data),t.data.data.game_data&&(s.UserData=t.data.data.user_data)):t.data.action==s.MESSAGE.SOUND&&(t.data.data.sound&&(s.GameData.sound=t.data.data.sound),setTimeout(function(){s.SaveData()},100)),a(t.data))}),this.PostMessage(this.MESSAGE.INIT_SDK,this.GameData)},getItem:function(a){var t;return null!==(t=this.GameData[a])&&void 0!==t?t:null},setItem:function(a,t){this.GameData[a]=t},LoadEnd:function(){this.PostMessage(this.MESSAGE.LOAD_END,{})},GameStart:function(){this.PostMessage(this.MESSAGE.GAME_START,{})},GameEnd:function(){this.PostMessage(this.MESSAGE.GAME_END,{})},ShowRank:function(){this.PostMessage(this.MESSAGE.SHOW_RANK,{})},ShowHelp:function(){this.PostMessage(this.MESSAGE.SHOW_HELP,{})},GetRank:function(){this.PostMessage(this.MESSAGE.GET_RANK,{})},SaveData:function(){this.PostMessage(this.MESSAGE.SAVE_DATA,this.GameData)},ShowMainMenu:function(a){var t=this;setTimeout(function(){var s={mode:a};t.PostMessage(t.MESSAGE.SHOW_MAIN_MENU,s)},100)},PostMessage:function(a,t){window.parent.postMessage({action:a,data:t},"*")},log:function(a){console.log("%cGAME: %c".concat(JSON.stringify(a)),"color: yellow;background:black;","color: white;background:black;")}};window.HI5=a})();