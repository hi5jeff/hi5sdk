(()=>{"use strict";const t={MESSAGE:{INIT_SDK:"INIT_SDK",LOAD_END:"LOAD_END",GAME_START:"GAME_START",GAME_END:"GAME_END",SHOW_RANK:"SHOW_RANK",SHOW_HELP:"SHOW_HELP",SAVE_DATA:"SAVE_DATA",SHOW_MAIN_MENU:"SHOW_MAIN_MENU",GET_RANK:"GET_RANK",GAME_DATA:"GAME_DATA",START_GAME:"START_GAME",RESTART_GAME:"RESTART_GAME",SOUND:"SOUND",RANK_DATA:"RANK_DATA",GAME_SETTINGS:"GAME_SETTINGS"},MainMenuType:{GAME_FIRST:"GAME_FIRST",GAME_END:"GAME_END"},GameData:{high_score:0,score:0},UserData:{},current_time:0,callback:null,Init_GameData:function(t){var a=this;for(var e in window.Hi5=this,this.current_time=Math.round((new Date).getTime()/1e3),t)this.GameData[e]=t[e];setInterval(function(){a.current_time++},1e3)},Init_OnMessage:function(t){var a=this;this.callback=t,window.addEventListener("message",function(t){a._OnMessage(t)}),this.PostMessage(this.MESSAGE.INIT_SDK,this.GameData)},Init_SDK:function(t,a){this.Init_GameData(a),this.Init_OnMessage(t)},_OnMessage:function(t){var a=this;t.data&&t.data.action&&(t.data.action==this.MESSAGE.GAME_DATA?(t.data.data.game_data&&(this.GameData=t.data.data.game_data),t.data.data.user_data&&(this.UserData=t.data.data.user_data),t.data.data.current_time&&(this.current_time=t.data.data.current_time)):t.data.action==this.MESSAGE.SOUND&&(t.data.data.sound&&(this.GameData.sound=t.data.data.sound),setTimeout(function(){a.SaveData()},100)),this.callback(t.data))},getItem:function(t){var a;return null!==(a=this.GameData[t])&&void 0!==a?a:null},setItem:function(t,a){this.GameData[t]=a},getTime:function(){return this.current_time},LoadEnd:function(){this.PostMessage(this.MESSAGE.LOAD_END,{})},GameStart:function(){this.PostMessage(this.MESSAGE.GAME_START,{})},GameEnd:function(){this.PostMessage(this.MESSAGE.GAME_END,{})},ShowRank:function(){this.PostMessage(this.MESSAGE.SHOW_RANK,{})},ShowHelp:function(){this.PostMessage(this.MESSAGE.SHOW_HELP,{})},GetRank:function(){this.PostMessage(this.MESSAGE.GET_RANK,{})},SaveData:function(){this.PostMessage(this.MESSAGE.SAVE_DATA,this.GameData)},ShowMainMenu:function(t){var a=this;setTimeout(function(){var e={mode:t};a.PostMessage(a.MESSAGE.SHOW_MAIN_MENU,e)},100)},PostMessage:function(t,a){window.parent.postMessage({action:t,data:a},"*")},log:function(t){console.log("%cGAME: %c".concat(JSON.stringify(t)),"color: yellow;background:black;","color: white;background:black;")}};window.HI5=t})();